<div class="dlb-container">
  <!-- Left Panel -->
  <div class="dlb-panel">
    <h4 class="dlb-header">{{ leftTitle }}</h4>

    <input
      *ngIf="enableSearch"
      type="text"
      class="dlb-search"
      [(ngModel)]="leftSearch"
      [placeholder]="placeholderLeft"
    />

    <ul class="dlb-list">
      <li
        *ngFor="let item of filteredLeft"
        [class.selected]="selectedLeft.includes(item)"
        [class.disabled]="item.disabled"
        (click)="selectedLeft = toggleSelection(selectedLeft, item)"
        (dblclick)="onDblClickLeft(item)"
      >
        <ng-container *ngIf="!itemTemplate; else customItem">
          {{ item.label }}
        </ng-container>
        <ng-template #customItem>
          <ng-container *ngTemplateOutlet="itemTemplate; context: { $implicit: item }"></ng-container>
        </ng-template>
      </li>
    </ul>
  </div>

  <!-- Middle Controls -->
  <div class="dlb-controls">
    <button type="button" (click)="moveRight()" [disabled]="!selectedLeft.length">&gt;</button>
    <button type="button" (click)="moveAllRight()" [disabled]="!leftItems.length">&gt;&gt;</button>
    <button type="button" (click)="moveLeft()" [disabled]="!selectedRight.length">&lt;</button>
    <button type="button" (click)="moveAllLeft()" [disabled]="!rightItems.length">&lt;&lt;</button>
  </div>

  <!-- Right Panel -->
  <div class="dlb-panel">
    <h4 class="dlb-header">{{ rightTitle }}</h4>

    <input
      *ngIf="enableSearch"
      type="text"
      class="dlb-search"
      [(ngModel)]="rightSearch"
      [placeholder]="placeholderRight"
    />

    <ul class="dlb-list">
      <li
        *ngFor="let item of filteredRight"
        [class.selected]="selectedRight.includes(item)"
        [class.disabled]="item.disabled"
        (click)="selectedRight = toggleSelection(selectedRight, item)"
        (dblclick)="onDblClickRight(item)"
      >
        <ng-container *ngIf="!itemTemplate; else customItemRight">
          {{ item.label }}
        </ng-container>
        <ng-template #customItemRight>
          <ng-container *ngTemplateOutlet="itemTemplate; context: { $implicit: item }"></ng-container>
        </ng-template>
      </li>
    </ul>
  </div>
</div>
